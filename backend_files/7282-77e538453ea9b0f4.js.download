(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7282],{6379:function(e){e.exports=function(e){function r(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var n={};return r.m=e,r.c=n,r.d=function(e,n,i){r.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=13)}([function(e,r){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,r){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,r){var n=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(e,r,n){e.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,r){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,r){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,r,n){var i=n(32)("wks"),o=n(9),a=n(0).Symbol,s="function"==typeof a;(e.exports=function(e){return i[e]||(i[e]=s&&a[e]||(s?a:o)("Symbol."+e))}).store=i},function(e,r,n){var i=n(0),o=n(2),a=n(8),s=n(22),l=n(10),f=function(e,r,n){var u,c,h,d,p=e&f.F,g=e&f.G,v=e&f.S,m=e&f.P,y=e&f.B,b=g?i:v?i[r]||(i[r]={}):(i[r]||{}).prototype,w=g?o:o[r]||(o[r]={}),A=w.prototype||(w.prototype={});for(u in g&&(n=r),n)h=((c=!p&&b&&void 0!==b[u])?b:n)[u],d=y&&c?l(h,i):m&&"function"==typeof h?l(Function.call,h):h,b&&s(b,u,h,e&f.U),w[u]!=h&&a(w,u,d),m&&A[u]!=h&&(A[u]=h)};i.core=o,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,e.exports=f},function(e,r,n){var i=n(16),o=n(21);e.exports=n(3)?function(e,r,n){return i.f(e,r,o(1,n))}:function(e,r,n){return e[r]=n,e}},function(e,r){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,r,n){var i=n(24);e.exports=function(e,r,n){if(i(e),void 0===r)return e;switch(n){case 1:return function(n){return e.call(r,n)};case 2:return function(n,i){return e.call(r,n,i)};case 3:return function(n,i,o){return e.call(r,n,i,o)}}return function(){return e.apply(r,arguments)}}},function(e,r){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,r,n){var i=n(28),o=Math.min;e.exports=function(e){return e>0?o(i(e),9007199254740991):0}},function(e,r,n){"use strict";r.__esModule=!0,r.default=function(e,r){if(e&&r){var n=Array.isArray(r)?r:r.split(","),i=e.name||"",o=e.type||"",a=o.replace(/\/.*$/,"");return n.some(function(e){var r=e.trim();return"."===r.charAt(0)?i.toLowerCase().endsWith(r.toLowerCase()):r.endsWith("/*")?a===r.replace(/\/.*$/,""):o===r})}return!0},n(14),n(34)},function(e,r,n){n(15),e.exports=n(2).Array.some},function(e,r,n){"use strict";var i=n(7),o=n(25)(3);i(i.P+!n(33)([].some,!0)*i.F,"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,r,n){var i=n(17),o=n(18),a=n(20),s=Object.defineProperty;r.f=n(3)?Object.defineProperty:function(e,r,n){if(i(e),r=a(r,!0),i(n),o)try{return s(e,r,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[r]=n.value),e}},function(e,r,n){var i=n(1);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,r,n){e.exports=!n(3)&&!n(4)(function(){return 7!=Object.defineProperty(n(19)("div"),"a",{get:function(){return 7}}).a})},function(e,r,n){var i=n(1),o=n(0).document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,r,n){var i=n(1);e.exports=function(e,r){var n,o;if(!i(e))return e;if(r&&"function"==typeof(n=e.toString)&&!i(o=n.call(e))||"function"==typeof(n=e.valueOf)&&!i(o=n.call(e))||!r&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,r){e.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}}},function(e,r,n){var i=n(0),o=n(8),a=n(23),s=n(9)("src"),l=Function.toString,f=(""+l).split("toString");n(2).inspectSource=function(e){return l.call(e)},(e.exports=function(e,r,n,l){var u="function"==typeof n;u&&(a(n,"name")||o(n,"name",r)),e[r]!==n&&(u&&(a(n,s)||o(n,s,e[r]?""+e[r]:f.join(String(r)))),e===i?e[r]=n:l?e[r]?e[r]=n:o(e,r,n):(delete e[r],o(e,r,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||l.call(this)})},function(e,r){var n={}.hasOwnProperty;e.exports=function(e,r){return n.call(e,r)}},function(e,r){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,r,n){var i=n(10),o=n(26),a=n(27),s=n(12),l=n(29);e.exports=function(e,r){var n=1==e,f=2==e,u=3==e,c=4==e,h=6==e,d=5==e||h,p=r||l;return function(r,l,g){for(var v,m,y=a(r),b=o(y),w=i(l,g,3),A=s(b.length),U=0,F=n?p(r,A):f?p(r,0):void 0;A>U;U++)if((d||U in b)&&(m=w(v=b[U],U,y),e)){if(n)F[U]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return U;case 2:F.push(v)}else if(c)return!1}return h?-1:u||c?c:F}}},function(e,r,n){var i=n(5);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,r,n){var i=n(11);e.exports=function(e){return Object(i(e))}},function(e,r){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,r,n){var i=n(30);e.exports=function(e,r){return new(i(e))(r)}},function(e,r,n){var i=n(1),o=n(31),a=n(6)("species");e.exports=function(e){var r;return o(e)&&("function"==typeof(r=e.constructor)&&(r===Array||o(r.prototype))&&(r=void 0),i(r)&&null===(r=r[a])&&(r=void 0)),void 0===r?Array:r}},function(e,r,n){var i=n(5);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,r,n){var i=n(0),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,r,n){"use strict";var i=n(4);e.exports=function(e,r){return!!e&&i(function(){r?e.call(null,function(){},1):e.call(null)})}},function(e,r,n){n(35),e.exports=n(2).String.endsWith},function(e,r,n){"use strict";var i=n(7),o=n(12),a=n(36),s="".endsWith;i(i.P+i.F*n(38)("endsWith"),"String",{endsWith:function(e){var r=a(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=o(r.length),l=void 0===n?i:Math.min(o(n),i),f=String(e);return s?s.call(r,f,l):r.slice(l-f.length,l)===f}})},function(e,r,n){var i=n(37),o=n(11);e.exports=function(e,r,n){if(i(r))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,r,n){var i=n(1),o=n(5),a=n(6)("match");e.exports=function(e){var r;return i(e)&&(void 0!==(r=e[a])?!!r:"RegExp"==o(e))}},function(e,r,n){var i=n(6)("match");e.exports=function(e){var r=/./;try{"/./"[e](r)}catch(n){try{return r[i]=!1,!"/./"[e](r)}catch(e){}}return!0}}])},76675:function(e,r,n){e.exports=function(e){var r=n(27170);return new Promise(function(n,i){var o="string"==typeof e?e:r.create(e);if(!o)throw Error("Must use a valid image");var a=document.createElement("img");a.onload=function(){"string"!=typeof e&&r.revoke(o),n({width:a.width,height:a.height})},a.onerror=function(n){"string"!=typeof e&&r.revoke(o),i(n)},a.src=o})}},4795:function(e){e.exports=function(){return!1}},27170:function(e,r){r.create=window.URL&&URL.createObjectURL.bind(URL)||window.webkitURL&&webkitURL.createObjectURL.bind(webkitURL)||window.createObjectURL,r.revoke=window.URL&&URL.revokeObjectURL.bind(URL)||window.webkitURL&&webkitURL.revokeObjectURL.bind(webkitURL)||window.revokeObjectURL},31533:function(e,r,n){"use strict";n.d(r,{Z:function(){return m}});var i=n(2784),o=n(13980),a=n.n(o),s=n(6379),l=n.n(s),f="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input");function u(e,r){return"application/x-moz-file"===e.type||l()(e,r)}function c(e){e.preventDefault()}var h={rejected:{borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"},disabled:{opacity:.5},active:{borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},default:{width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5}},d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p=function(){function e(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(r,n,i){return n&&e(r.prototype,n),i&&e(r,i),r}}();function g(e,r){var n={};for(var i in e)!(r.indexOf(i)>=0)&&Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var v=function(e){function r(e,n){!function(e,r){if(!(e instanceof r))throw TypeError("Cannot call a class as a function")}(this,r);var i=function(e,r){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&("object"==typeof r||"function"==typeof r)?r:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,n));return i.renderChildren=function(e,r,n,o){return"function"==typeof e?e(d({},i.state,{isDragActive:r,isDragAccept:n,isDragReject:o})):e},i.composeHandlers=i.composeHandlers.bind(i),i.onClick=i.onClick.bind(i),i.onDocumentDrop=i.onDocumentDrop.bind(i),i.onDragEnter=i.onDragEnter.bind(i),i.onDragLeave=i.onDragLeave.bind(i),i.onDragOver=i.onDragOver.bind(i),i.onDragStart=i.onDragStart.bind(i),i.onDrop=i.onDrop.bind(i),i.onFileDialogCancel=i.onFileDialogCancel.bind(i),i.onInputElementClick=i.onInputElementClick.bind(i),i.setRef=i.setRef.bind(i),i.setRefs=i.setRefs.bind(i),i.isFileDialogActive=!1,i.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},i}return!function(e,r){if("function"!=typeof r&&null!==r)throw TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(r,e),p(r,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",c,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",c),document.removeEventListener("drop",this.onDocumentDrop)),null!=this.fileInputEl&&this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"composeHandlers",value:function(e){return this.props.disabled?null:e}},{key:"onDocumentDrop",value:function(e){this.node&&this.node.contains(e.target)||(e.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(e){this.props.onDragStart&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){var r=this;e.preventDefault(),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target),Promise.resolve(this.props.getDataTransferItems(e)).then(function(e){r.setState({isDragActive:!0,draggedFiles:e})}),this.props.onDragEnter&&this.props.onDragEnter.call(this,e)}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect=this.isFileDialogActive?"none":"copy"}catch(e){}return this.props.onDragOver&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){var r=this;e.preventDefault(),this.dragTargets=this.dragTargets.filter(function(n){return n!==e.target&&r.node.contains(n)}),!(this.dragTargets.length>0)&&(this.setState({isDragActive:!1,draggedFiles:[]}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var r=this,n=this.props,i=n.onDrop,o=n.onDropAccepted,a=n.onDropRejected,s=n.multiple,l=n.disablePreview,f=n.accept,c=n.getDataTransferItems;e.preventDefault(),this.dragTargets=[],this.isFileDialogActive=!1,this.draggedFiles=null,this.setState({isDragActive:!1,draggedFiles:[]}),Promise.resolve(c(e)).then(function(n){var c=[],h=[];n.forEach(function(e){var n,i;if(!l)try{e.preview=window.URL.createObjectURL(e)}catch(e){}u(e,f)&&(n=r.props.maxSize,i=r.props.minSize,e.size<=n&&e.size>=i)?c.push(e):h.push(e)}),s||h.push.apply(h,function(e){if(!Array.isArray(e))return Array.from(e);for(var r=0,n=Array(e.length);r<e.length;r++)n[r]=e[r];return n}(c.splice(1))),i&&i.call(r,c,h,e),h.length>0&&a&&a.call(r,h,e),c.length>0&&o&&o.call(r,c,e)})}},{key:"onClick",value:function(e){var r=this.props,n=r.onClick;r.disableClick||(e.stopPropagation(),n&&n.call(this,e),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return -1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/")}()?setTimeout(this.open.bind(this),0):this.open())}},{key:"onInputElementClick",value:function(e){e.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick()}},{key:"onFileDialogCancel",value:function(){var e=this,r=this.props.onFileDialogCancel;this.isFileDialogActive&&setTimeout(function(){null==e.fileInputEl||e.fileInputEl.files.length||(e.isFileDialogActive=!1),"function"==typeof r&&r()},300)}},{key:"setRef",value:function(e){this.node=e}},{key:"setRefs",value:function(e){this.fileInputEl=e}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e,r=this.props,n=r.accept,o=r.acceptClassName,a=r.activeClassName,s=r.children,l=r.disabled,c=r.disabledClassName,p=r.inputProps,v=r.multiple,m=r.name,y=r.rejectClassName,b=g(r,["accept","acceptClassName","activeClassName","children","disabled","disabledClassName","inputProps","multiple","name","rejectClassName"]),w=b.acceptStyle,A=b.activeStyle,U=b.className,F=void 0===U?"":U,E=b.disabledStyle,C=b.rejectStyle,S=b.style,D=g(b,["acceptStyle","activeStyle","className","disabledStyle","rejectStyle","style"]),x=this.state,R=x.isDragActive,_=x.draggedFiles,O=_.length,I=v||O<=1,k=O>0&&(e=this.props.accept,_.every(function(r){return u(r,e)})),T=O>0&&(!k||!I),M=!F&&!S&&!A&&!w&&!C&&!E;R&&a&&(F+=" "+a),k&&o&&(F+=" "+o),T&&y&&(F+=" "+y),l&&c&&(F+=" "+c),M&&(S=h.default,A=h.active,w=h.active,C=h.rejected,E=h.disabled);var P=d({position:"relative"},S);A&&R&&(P=d({},P,A)),w&&k&&(P=d({},P,w)),C&&T&&(P=d({},P,C)),E&&l&&(P=d({},P,E));var B={accept:n,disabled:l,type:"file",style:d({position:"absolute",top:0,right:0,bottom:0,left:0,opacity:1e-5,pointerEvents:"none"},p.style),multiple:f&&v,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"};m&&m.length&&(B.name=m),D.acceptedFiles,D.preventDropOnDocument,D.disablePreview,D.disableClick,D.onDropAccepted,D.onDropRejected,D.onFileDialogCancel,D.maxSize,D.minSize,D.getDataTransferItems;var L=g(D,["acceptedFiles","preventDropOnDocument","disablePreview","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize","getDataTransferItems"]);return i.createElement("div",d({className:F,style:P},L,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":l}),this.renderChildren(s,R,k,T),i.createElement("input",d({},p,B)))}}]),r}(i.Component),m=v;v.propTypes={accept:a().oneOfType([a().string,a().arrayOf(a().string)]),children:a().oneOfType([a().node,a().func]),disableClick:a().bool,disabled:a().bool,disablePreview:a().bool,preventDropOnDocument:a().bool,inputProps:a().object,multiple:a().bool,name:a().string,maxSize:a().number,minSize:a().number,className:a().string,activeClassName:a().string,acceptClassName:a().string,rejectClassName:a().string,disabledClassName:a().string,style:a().object,activeStyle:a().object,acceptStyle:a().object,rejectStyle:a().object,disabledStyle:a().object,getDataTransferItems:a().func,onClick:a().func,onDrop:a().func,onDropAccepted:a().func,onDropRejected:a().func,onDragStart:a().func,onDragEnter:a().func,onDragOver:a().func,onDragLeave:a().func,onFileDialogCancel:a().func},v.defaultProps={preventDropOnDocument:!0,disabled:!1,disablePreview:!1,disableClick:!1,inputProps:{},multiple:!0,maxSize:1/0,minSize:0,getDataTransferItems:function(e){var r=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?r=n.files:n.items&&n.items.length&&(r=n.items)}else e.target&&e.target.files&&(r=e.target.files);return Array.prototype.slice.call(r)}}},96385:function(e){function r(e){for(var r in null==e&&(e={}),e)e.hasOwnProperty(r)&&(this[r]=e[r]);var n=this.fileElement?this.fileElement.files:this.files||[];this.handleFileSelect(n)}r.prototype.server="",r.prototype.signingUrl="/sign-s3",r.prototype.signingUrlMethod="GET",r.prototype.successResponses=[200,201],r.prototype.fileElement=null,r.prototype.files=null,r.prototype.onFinishS3Put=function(e,r){return console.log("base.onFinishS3Put()",e.publicUrl)},r.prototype.preprocess=function(e,r){return console.log("base.preprocess()",e),r(e)},r.prototype.onProgress=function(e,r,n){return console.log("base.onProgress()",e,r)},r.prototype.onError=function(e,r){return console.log("base.onError()",e)},r.prototype.onSignedUrl=function(e){},r.prototype.scrubFilename=function(e){return e.replace(/[^\w\d_\-\.]+/ig,"")},r.prototype.handleFileSelect=function(e){for(var r=[],n=0;n<e.length;n++){var i=e[n];this.preprocess(i,(function(e){return this.onProgress(0,"Waiting",e),r.push(this.uploadFile(e)),r}).bind(this))}},r.prototype.createCORSRequest=function(e,r,n){var n=n||{},i=new XMLHttpRequest;return null!=i.withCredentials?(i.open(e,r,!0),null!=n.withCredentials&&(i.withCredentials=n.withCredentials)):"undefined"!=typeof XDomainRequest?(i=new XDomainRequest).open(e,r):i=null,i},r.prototype._getErrorRequestContext=function(e){return{response:e.responseText,status:e.status,statusText:e.statusText,readyState:e.readyState}},r.prototype.executeOnSignedUrl=function(e,r){var n="?objectName="+this.scrubFilename(e.name)+"&contentType="+encodeURIComponent(e.type);if(this.s3path&&(n+="&path="+encodeURIComponent(this.s3path)),this.signingUrlQueryParams){var i="function"==typeof this.signingUrlQueryParams?this.signingUrlQueryParams():this.signingUrlQueryParams;Object.keys(i).forEach(function(e){var r=i[e];n+="&"+e+"="+r})}var o=this.createCORSRequest(this.signingUrlMethod,this.server+this.signingUrl+n,{withCredentials:this.signingUrlWithCredentials});if(this.signingUrlHeaders){var a="function"==typeof this.signingUrlHeaders?this.signingUrlHeaders():this.signingUrlHeaders;Object.keys(a).forEach(function(e){var r=a[e];o.setRequestHeader(e,r)})}return o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.onreadystatechange=(function(){if(4===o.readyState&&this.successResponses.indexOf(o.status)>=0){var n;try{n=JSON.parse(o.responseText),this.onSignedUrl(n)}catch(r){return this.onError("Invalid response from server",e,this._getErrorRequestContext(o)),!1}return r(n)}if(4===o.readyState&&0>this.successResponses.indexOf(o.status))return this.onError("Could not contact request signing server. Status = "+o.status,e,this._getErrorRequestContext(o))}).bind(this),o.send()},r.prototype.uploadToS3=function(e,r){var n=this.createCORSRequest("PUT",r.signedUrl);if(n?(n.onload=(function(){return this.successResponses.indexOf(n.status)>=0?(this.onProgress(100,"Upload completed",e),this.onFinishS3Put(r,e)):this.onError("Upload error: "+n.status,e,this._getErrorRequestContext(n))}).bind(this),n.onerror=(function(){return this.onError("XHR error",e,this._getErrorRequestContext(n))}).bind(this),n.upload.onprogress=(function(r){var n;if(r.lengthComputable)return n=Math.round(r.loaded/r.total*100),this.onProgress(n,100===n?"Finalizing":"Uploading",e)}).bind(this)):this.onError("CORS not supported",e,{}),n.setRequestHeader("Content-Type",e.type),this.contentDisposition){var i=this.contentDisposition;"auto"===i&&(i="image/"===e.type.substr(0,6)?"inline":"attachment");var o=this.scrubFilename(e.name);n.setRequestHeader("Content-Disposition",i+'; filename="'+o+'"')}if(r.headers){var a=r.headers;Object.keys(a).forEach(function(e){var r=a[e];n.setRequestHeader(e,r)})}if(this.uploadRequestHeaders){var s=this.uploadRequestHeaders;Object.keys(s).forEach(function(e){var r=s[e];n.setRequestHeader(e,r)})}else n.setRequestHeader("x-amz-acl","public-read");return this.httprequest=n,n.send(e)},r.prototype.uploadFile=function(e){var r=this.uploadToS3.bind(this,e);return this.getSignedUrl?this.getSignedUrl(e,r):this.executeOnSignedUrl(e,r)},r.prototype.abortUpload=function(){this.httprequest&&this.httprequest.abort()},e.exports=r},78321:function(e,r,n){"use strict";let i;function o(e,r){return new Promise(function(n,i){let o;return a(e).then(function(e){try{return o=e,n(new Blob([r.slice(0,2),o,r.slice(2)],{type:"image/jpeg"}))}catch(e){return i(e)}},i)})}n.d(r,{Z:function(){return L}});let a=e=>new Promise((r,n)=>{let i=new FileReader;i.addEventListener("load",({target:{result:e}})=>{let i=new DataView(e),o=0;if(65496!==i.getUint16(o))return n("not a valid JPEG");for(o+=2;;){let a=i.getUint16(o);if(65498===a)break;let s=i.getUint16(o+2);if(65505===a&&1165519206===i.getUint32(o+4)){let a;let l=o+10;switch(i.getUint16(l)){case 18761:a=!0;break;case 19789:a=!1;break;default:return n("TIFF header contains invalid endian")}if(42!==i.getUint16(l+2,a))return n("TIFF header contains invalid version");let f=i.getUint32(l+4,a),u=l+f+2+12*i.getUint16(l+f,a);for(let e=l+f+2;e<u;e+=12)if(274==i.getUint16(e,a)){if(3!==i.getUint16(e+2,a))return n("Orientation data type is invalid");if(1!==i.getUint32(e+4,a))return n("Orientation data count is invalid");i.setUint16(e+8,1,a);break}return r(e.slice(o,o+2+s))}o+=2+s}return r(new Blob)}),i.readAsArrayBuffer(e)});var s,l,f,u,c={};f={},({get exports(){return c},set exports(t){c=t}}).exports=f,f.parse=function(e,r){for(var n=f.bin.readUshort,i=f.bin.readUint,o=0,a={},s=new Uint8Array(e),l=s.length-4;101010256!=i(s,l);)l--;var u=n(s,o=l+4+4);n(s,o+=2);var c=i(s,o+=2),h=i(s,o+=4);o+=4,o=h;for(var d=0;d<u;d++){i(s,o),i(s,o+=16),c=i(s,o+=4);var p=i(s,o+=4),g=n(s,o+=4),v=n(s,o+2),m=n(s,o+4),y=i(s,o+=14);o+=4+(g+v+m),f._readLocal(s,y,a,c,p,r)}return a},f._readLocal=function(e,r,n,i,o,a){var s=f.bin.readUshort,l=f.bin.readUint;l(e,r),s(e,r+=4),s(e,r+=2);var u=s(e,r+=2);l(e,r+=2),l(e,r+=4);var c=s(e,r+=12),h=s(e,r+=2);r+=2;var d=f.bin.readUTF8(e,r,c);if(r+=c+h,a)n[d]={size:o,csize:i};else{var p=new Uint8Array(e.buffer,r);if(0==u)n[d]=new Uint8Array(p.buffer.slice(r,r+i));else{if(8!=u)throw"unknown compression method: "+u;var g=new Uint8Array(o);f.inflateRaw(p,g),n[d]=g}}},f.inflateRaw=function(e,r){return f.F.inflate(e,r)},f.inflate=function(e,r){return e[0],e[1],f.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),r)},f.deflate=function(e,r){null==r&&(r={level:6});var n=0,i=new Uint8Array(50+Math.floor(1.1*e.length));i[n]=120,i[n+1]=156,n+=2,n=f.F.deflateRaw(e,i,n,r.level);var o=f.adler(e,0,e.length);return i[n+0]=o>>>24&255,i[n+1]=o>>>16&255,i[n+2]=o>>>8&255,i[n+3]=o>>>0&255,new Uint8Array(i.buffer,0,n+4)},f.deflateRaw=function(e,r){null==r&&(r={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),i=f.F.deflateRaw(e,n,i,r.level);return new Uint8Array(n.buffer,0,i)},f.encode=function(e,r){null==r&&(r=!1);var n=0,i=f.bin.writeUint,o=f.bin.writeUshort,a={};for(var s in e){var l=!f._noNeed(s)&&!r,u=e[s],c=f.crc.crc(u,0,u.length);a[s]={cpr:l,usize:u.length,crc:c,file:l?f.deflateRaw(u):u}}for(var s in a)n+=a[s].file.length+30+46+2*f.bin.sizeUTF8(s);n+=22;var h=new Uint8Array(n),d=0,p=[];for(var s in a){var g=a[s];p.push(d),d=f._writeHeader(h,d,s,g,0)}var v=0,m=d;for(var s in a)g=a[s],p.push(d),d=f._writeHeader(h,d,s,g,1,p[v++]);var y=d-m;return i(h,d,101010256),o(h,d+=8,v),o(h,d+=2,v),i(h,d+=2,y),i(h,d+=4,m),d+=6,h.buffer},f._noNeed=function(e){var r=e.split(".").pop().toLowerCase();return -1!="png,jpg,jpeg,zip".indexOf(r)},f._writeHeader=function(e,r,n,i,o,a){var s=f.bin.writeUint,l=f.bin.writeUshort,u=i.file;return s(e,r,0==o?67324752:33639248),r+=4,1==o&&(r+=2),l(e,r,20),l(e,r+=2,0),l(e,r+=2,i.cpr?8:0),s(e,r+=2,0),s(e,r+=4,i.crc),s(e,r+=4,u.length),s(e,r+=4,i.usize),l(e,r+=4,f.bin.sizeUTF8(n)),l(e,r+=2,0),r+=2,1==o&&(s(e,r+=10,a),r+=4),r+=f.bin.writeUTF8(e,r,n),0==o&&(e.set(u,r),r+=u.length),r},f.crc={table:function(){for(var e=new Uint32Array(256),r=0;r<256;r++){for(var n=r,i=0;i<8;i++)1&n?n=3988292384^n>>>1:n>>>=1;e[r]=n}return e}(),update:function(e,r,n,i){for(var o=0;o<i;o++)e=f.crc.table[255&(e^r[n+o])]^e>>>8;return e},crc:function(e,r,n){return 4294967295^f.crc.update(4294967295,e,r,n)}},f.adler=function(e,r,n){for(var i=1,o=0,a=r,s=r+n;a<s;){for(var l=Math.min(a+5552,s);a<l;)o+=i+=e[a++];i%=65521,o%=65521}return o<<16|i},f.bin={readUshort:function(e,r){return e[r]|e[r+1]<<8},writeUshort:function(e,r,n){e[r]=255&n,e[r+1]=n>>8&255},readUint:function(e,r){return 16777216*e[r+3]+(e[r+2]<<16|e[r+1]<<8|e[r])},writeUint:function(e,r,n){e[r]=255&n,e[r+1]=n>>8&255,e[r+2]=n>>16&255,e[r+3]=n>>24&255},readASCII:function(e,r,n){for(var i="",o=0;o<n;o++)i+=String.fromCharCode(e[r+o]);return i},writeASCII:function(e,r,n){for(var i=0;i<n.length;i++)e[r+i]=n.charCodeAt(i)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,r,n){for(var i,o="",a=0;a<n;a++)o+="%"+f.bin.pad(e[r+a].toString(16));try{i=decodeURIComponent(o)}catch(i){return f.bin.readASCII(e,r,n)}return i},writeUTF8:function(e,r,n){for(var i=n.length,o=0,a=0;a<i;a++){var s=n.charCodeAt(a);if(0==(4294967168&s))e[r+o]=s,o++;else if(0==(4294965248&s))e[r+o]=192|s>>6,e[r+o+1]=128|s>>0&63,o+=2;else if(0==(4294901760&s))e[r+o]=224|s>>12,e[r+o+1]=128|s>>6&63,e[r+o+2]=128|s>>0&63,o+=3;else{if(0!=(4292870144&s))throw"e";e[r+o]=240|s>>18,e[r+o+1]=128|s>>12&63,e[r+o+2]=128|s>>6&63,e[r+o+3]=128|s>>0&63,o+=4}}return o},sizeUTF8:function(e){for(var r=e.length,n=0,i=0;i<r;i++){var o=e.charCodeAt(i);if(0==(4294967168&o))n++;else if(0==(4294965248&o))n+=2;else if(0==(4294901760&o))n+=3;else{if(0!=(4292870144&o))throw"e";n+=4}}return n}},f.F={},f.F.deflateRaw=function(e,r,n,i){var o=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],a=f.F.U,s=f.F._goodIndex;f.F._hash;var l=f.F._putsE,u=0,c=n<<3,h=0,d=e.length;if(0==i){for(;u<d;)l(r,c,u+(C=Math.min(65535,d-u))==d?1:0),c=f.F._copyExact(e,u,C,r,c+8),u+=C;return c>>>3}var p=a.lits,g=a.strt,v=a.prev,m=0,y=0,b=0,w=0,A=0,U=0;for(d>2&&(g[U=f.F._hash(e,0)]=0),u=0;u<d;u++){if(A=U,u+1<d-2){U=f.F._hash(e,u+1);var F=u+1&32767;v[F]=g[U],g[U]=F}if(h<=u){(m>14e3||y>26697)&&d-u>100&&(h<u&&(p[m]=u-h,m+=2,h=u),c=f.F._writeBlock(u==d-1||h==d?1:0,p,m,w,e,b,u-b,r,c),m=y=w=0,b=u);var E=0;u<d-2&&(E=f.F._bestMatch(e,u,v,A,Math.min(o[2],d-u),o[3]));var C=E>>>16,S=65535&E;if(0!=E){S=65535&E;var D=s(C=E>>>16,a.of0);a.lhst[257+D]++;var x=s(S,a.df0);a.dhst[x]++,w+=a.exb[D]+a.dxb[x],p[m]=C<<23|u-h,p[m+1]=S<<16|D<<8|x,m+=2,h=u+C}else a.lhst[e[u]]++;y++}}for(b==u&&0!=e.length||(h<u&&(p[m]=u-h,m+=2,h=u),c=f.F._writeBlock(1,p,m,w,e,b,u-b,r,c),m=0,y=0,m=y=w=0,b=u);0!=(7&c);)c++;return c>>>3},f.F._bestMatch=function(e,r,n,i,o,a){var s=32767&r,l=n[s],u=s-l+32768&32767;if(l==s||i!=f.F._hash(e,r-u))return 0;for(var c=0,h=0,d=Math.min(32767,r);u<=d&&0!=--a&&l!=s;){if(0==c||e[r+c]==e[r+c-u]){var p=f.F._howLong(e,r,u);if(p>c){if(h=u,(c=p)>=o)break;u+2<p&&(p=u+2);for(var g=0,v=0;v<p-2;v++){var m=r-u+v+32768&32767,y=m-n[m]+32768&32767;y>g&&(g=y,l=m)}}}u+=(s=l)-(l=n[s])+32768&32767}return c<<16|h},f.F._howLong=function(e,r,n){if(e[r]!=e[r-n]||e[r+1]!=e[r+1-n]||e[r+2]!=e[r+2-n])return 0;var i=r,o=Math.min(e.length,r+258);for(r+=3;r<o&&e[r]==e[r-n];)r++;return r-i},f.F._hash=function(e,r){return(e[r]<<8|e[r+1])+(e[r+2]<<4)&65535},f.saved=0,f.F._writeBlock=function(e,r,n,i,o,a,s,l,u){var c,h,d,p,g,v,m,y,b,w,A,U=f.F.U,F=f.F._putsF,E=f.F._putsE;U.lhst[256]++,p=(d=f.F.getTrees())[0],g=d[1],v=d[2],m=d[3],y=d[4],b=d[5],w=d[6],A=d[7];var C=32+(0==(u+3&7)?0:8-(u+3&7))+(s<<3),S=i+f.F.contSize(U.fltree,U.lhst)+f.F.contSize(U.fdtree,U.dhst),D=i+f.F.contSize(U.ltree,U.lhst)+f.F.contSize(U.dtree,U.dhst);D+=14+3*b+f.F.contSize(U.itree,U.ihst)+(2*U.ihst[16]+3*U.ihst[17]+7*U.ihst[18]);for(var x=0;x<286;x++)U.lhst[x]=0;for(x=0;x<30;x++)U.dhst[x]=0;for(x=0;x<19;x++)U.ihst[x]=0;var R=C<S&&C<D?0:S<D?1:2;if(F(l,u,e),F(l,u+1,R),u+=3,0==R){for(;0!=(7&u);)u++;u=f.F._copyExact(o,a,s,l,u)}else{if(1==R&&(c=U.fltree,h=U.fdtree),2==R){f.F.makeCodes(U.ltree,p),f.F.revCodes(U.ltree,p),f.F.makeCodes(U.dtree,g),f.F.revCodes(U.dtree,g),f.F.makeCodes(U.itree,v),f.F.revCodes(U.itree,v),c=U.ltree,h=U.dtree,E(l,u,m-257),E(l,u+=5,y-1),E(l,u+=5,b-4),u+=4;for(var _=0;_<b;_++)E(l,u+3*_,U.itree[1+(U.ordr[_]<<1)]);u+=3*b,u=f.F._codeTiny(w,U.itree,l,u),u=f.F._codeTiny(A,U.itree,l,u)}for(var O=a,I=0;I<n;I+=2){for(var k=r[I],T=k>>>23,M=O+(8388607&k);O<M;)u=f.F._writeLit(o[O++],c,l,u);if(0!=T){var P=r[I+1],B=P>>16,L=P>>8&255,H=255&P;E(l,u=f.F._writeLit(257+L,c,l,u),T-U.of0[L]),u+=U.exb[L],F(l,u=f.F._writeLit(H,h,l,u),B-U.df0[H]),u+=U.dxb[H],O+=T}}u=f.F._writeLit(256,c,l,u)}return u},f.F._copyExact=function(e,r,n,i,o){var a=o>>>3;return i[a]=n,i[a+1]=n>>>8,i[a+2]=255-i[a],i[a+3]=255-i[a+1],a+=4,i.set(new Uint8Array(e.buffer,r,n),a),o+(n+4<<3)},f.F.getTrees=function(){for(var e=f.F.U,r=f.F._hufTree(e.lhst,e.ltree,15),n=f.F._hufTree(e.dhst,e.dtree,15),i=[],o=f.F._lenCodes(e.ltree,i),a=[],s=f.F._lenCodes(e.dtree,a),l=0;l<i.length;l+=2)e.ihst[i[l]]++;for(l=0;l<a.length;l+=2)e.ihst[a[l]]++;for(var u=f.F._hufTree(e.ihst,e.itree,7),c=19;c>4&&0==e.itree[1+(e.ordr[c-1]<<1)];)c--;return[r,n,u,o,s,c,i,a]},f.F.getSecond=function(e){for(var r=[],n=0;n<e.length;n+=2)r.push(e[n+1]);return r},f.F.nonZero=function(e){for(var r="",n=0;n<e.length;n+=2)0!=e[n+1]&&(r+=(n>>1)+",");return r},f.F.contSize=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i]*e[1+(i<<1)];return n},f.F._codeTiny=function(e,r,n,i){for(var o=0;o<e.length;o+=2){var a=e[o],s=e[o+1];i=f.F._writeLit(a,r,n,i);var l=16==a?2:17==a?3:7;a>15&&(f.F._putsE(n,i,s,l),i+=l)}return i},f.F._lenCodes=function(e,r){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var i=0;i<n;i+=2){var o=e[i+1],a=i+3<n?e[i+3]:-1,s=i+5<n?e[i+5]:-1,l=0==i?-1:e[i-1];if(0==o&&a==o&&s==o){for(var f=i+5;f+2<n&&e[f+2]==o;)f+=2;(u=Math.min(f+1-i>>>1,138))<11?r.push(17,u-3):r.push(18,u-11),i+=2*u-2}else if(o==l&&a==o&&s==o){for(f=i+5;f+2<n&&e[f+2]==o;)f+=2;var u=Math.min(f+1-i>>>1,6);r.push(16,u-3),i+=2*u-2}else r.push(o,0)}return n>>>1},f.F._hufTree=function(e,r,n){var i=[],o=e.length,a=r.length,s=0;for(s=0;s<a;s+=2)r[s]=0,r[s+1]=0;for(s=0;s<o;s++)0!=e[s]&&i.push({lit:s,f:e[s]});var l=i.length,u=i.slice(0);if(0==l)return 0;if(1==l){var c=i[0].lit;return u=0==c?1:0,r[1+(c<<1)]=1,r[1+(u<<1)]=1,1}i.sort(function(e,r){return e.f-r.f});var h=i[0],d=i[1],p=0,g=1,v=2;for(i[0]={lit:-1,f:h.f+d.f,l:h,r:d,d:0};g!=l-1;)h=p!=g&&(v==l||i[p].f<i[v].f)?i[p++]:i[v++],d=p!=g&&(v==l||i[p].f<i[v].f)?i[p++]:i[v++],i[g++]={lit:-1,f:h.f+d.f,l:h,r:d};var m=f.F.setDepth(i[g-1],0);for(m>n&&(f.F.restrictDepth(u,n,m),m=n),s=0;s<l;s++)r[1+(u[s].lit<<1)]=u[s].d;return m},f.F.setDepth=function(e,r){return -1!=e.lit?(e.d=r,r):Math.max(f.F.setDepth(e.l,r+1),f.F.setDepth(e.r,r+1))},f.F.restrictDepth=function(e,r,n){var i=0,o=1<<n-r,a=0;for(e.sort(function(e,r){return r.d==e.d?e.f-r.f:r.d-e.d}),i=0;i<e.length&&e[i].d>r;i++){var s=e[i].d;e[i].d=r,a+=o-(1<<n-s)}for(a>>>=n-r;a>0;)(s=e[i].d)<r?(e[i].d++,a-=1<<r-s-1):i++;for(;i>=0;i--)e[i].d==r&&a<0&&(e[i].d--,a++);0!=a&&console.log("debt left")},f.F._goodIndex=function(e,r){var n=0;return r[16]<=e&&(n|=16),r[8|n]<=e&&(n|=8),r[4|n]<=e&&(n|=4),r[2|n]<=e&&(n|=2),r[1|n]<=e&&(n|=1),n},f.F._writeLit=function(e,r,n,i){return f.F._putsF(n,i,r[e<<1]),i+r[1+(e<<1)]},f.F.inflate=function(e,r){var n=Uint8Array;if(3==e[0]&&0==e[1])return r||new n(0);var i=f.F,o=i._bitsF,a=i._bitsE,s=i._decodeTiny,l=i.makeCodes,u=i.codes2map,c=i._get17,h=i.U,d=null==r;d&&(r=new n(e.length>>>2<<3));for(var p,g,v=0,m=0,y=0,b=0,w=0,A=0,U=0,F=0,E=0;0==v;)if(v=o(e,E,1),m=o(e,E+1,2),E+=3,0!=m){if(d&&(r=f.F._check(r,F+131072)),1==m&&(p=h.flmap,g=h.fdmap,A=511,U=31),2==m){y=a(e,E,5)+257,b=a(e,E+5,5)+1,w=a(e,E+10,4)+4,E+=14;for(var C=0;C<38;C+=2)h.itree[C]=0,h.itree[C+1]=0;var S=1;for(C=0;C<w;C++){var D=a(e,E+3*C,3);h.itree[1+(h.ordr[C]<<1)]=D,D>S&&(S=D)}E+=3*w,l(h.itree,S),u(h.itree,S,h.imap),p=h.lmap,g=h.dmap,E=s(h.imap,(1<<S)-1,y+b,e,E,h.ttree);var x=i._copyOut(h.ttree,0,y,h.ltree);A=(1<<x)-1;var R=i._copyOut(h.ttree,y,b,h.dtree);U=(1<<R)-1,l(h.ltree,x),u(h.ltree,x,p),l(h.dtree,R),u(h.dtree,R,g)}for(;;){var _=p[c(e,E)&A];E+=15&_;var O=_>>>4;if(O>>>8==0)r[F++]=O;else{if(256==O)break;var I=F+O-254;if(O>264){var k=h.ldef[O-257];I=F+(k>>>3)+a(e,E,7&k),E+=7&k}var T=g[c(e,E)&U];E+=15&T;var M=T>>>4,P=h.ddef[M],B=(P>>>4)+o(e,E,15&P);for(E+=15&P,d&&(r=f.F._check(r,F+131072));F<I;)r[F]=r[F++-B],r[F]=r[F++-B],r[F]=r[F++-B],r[F]=r[F++-B];F=I}}}else{0!=(7&E)&&(E+=8-(7&E));var L=4+(E>>>3),H=e[L-4]|e[L-3]<<8;d&&(r=f.F._check(r,F+H)),r.set(new n(e.buffer,e.byteOffset+L,H),F),E=L+H<<3,F+=H}return r.length==F?r:r.slice(0,F)},f.F._check=function(e,r){var n=e.length;if(r<=n)return e;var i=new Uint8Array(Math.max(n<<1,r));return i.set(e,0),i},f.F._decodeTiny=function(e,r,n,i,o,a){for(var s=f.F._bitsE,l=f.F._get17,u=0;u<n;){var c=e[l(i,o)&r];o+=15&c;var h=c>>>4;if(h<=15)a[u]=h,u++;else{var d=0,p=0;16==h?(p=3+s(i,o,2),o+=2,d=a[u-1]):17==h?(p=3+s(i,o,3),o+=3):18==h&&(p=11+s(i,o,7),o+=7);for(var g=u+p;u<g;)a[u]=d,u++}}return o},f.F._copyOut=function(e,r,n,i){for(var o=0,a=0,s=i.length>>>1;a<n;){var l=e[a+r];i[a<<1]=0,i[1+(a<<1)]=l,l>o&&(o=l),a++}for(;a<s;)i[a<<1]=0,i[1+(a<<1)]=0,a++;return o},f.F.makeCodes=function(e,r){for(var n,i,o,a,s=f.F.U,l=e.length,u=s.bl_count,c=0;c<=r;c++)u[c]=0;for(c=1;c<l;c+=2)u[e[c]]++;var h=s.next_code;for(n=0,u[0]=0,i=1;i<=r;i++)n=n+u[i-1]<<1,h[i]=n;for(o=0;o<l;o+=2)0!=(a=e[o+1])&&(e[o]=h[a],h[a]++)},f.F.codes2map=function(e,r,n){for(var i=e.length,o=f.F.U.rev15,a=0;a<i;a+=2)if(0!=e[a+1])for(var s=a>>1,l=e[a+1],u=s<<4|l,c=r-l,h=e[a]<<c,d=h+(1<<c);h!=d;)n[o[h]>>>15-r]=u,h++},f.F.revCodes=function(e,r){for(var n=f.F.U.rev15,i=15-r,o=0;o<e.length;o+=2){var a=e[o]<<r-e[o+1];e[o]=n[a]>>>i}},f.F._putsE=function(e,r,n){n<<=7&r;var i=r>>>3;e[i]|=n,e[i+1]|=n>>>8},f.F._putsF=function(e,r,n){n<<=7&r;var i=r>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},f.F._bitsE=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<n)-1},f.F._bitsF=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<n)-1},f.F._get17=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},f.F._get25=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},f.F.U=(s=Uint16Array,l=Uint32Array,{next_code:new s(16),bl_count:new s(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new s(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new l(32),flmap:new s(512),fltree:[],fdmap:new s(32),fdtree:[],lmap:new s(32768),ltree:[],ttree:[],dmap:new s(32768),dtree:[],imap:new s(512),itree:[],rev15:new s(32768),lhst:new l(286),dhst:new l(30),ihst:new l(19),lits:new l(15e3),strt:new s(65536),prev:new s(32768)}),function(){for(var e=f.F.U,r=0;r<32768;r++){var n=r;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,e.rev15[r]=(n>>>16|n<<16)>>>17}function i(e,r,n){for(;0!=r--;)e.push(0,n)}for(r=0;r<32;r++)e.ldef[r]=e.of0[r]<<3|e.exb[r],e.ddef[r]=e.df0[r]<<4|e.dxb[r];i(e.fltree,144,8),i(e.fltree,112,9),i(e.fltree,24,7),i(e.fltree,8,8),f.F.makeCodes(e.fltree,9),f.F.codes2map(e.fltree,9,e.flmap),f.F.revCodes(e.fltree,9),i(e.fdtree,32,5),f.F.makeCodes(e.fdtree,5),f.F.codes2map(e.fdtree,5,e.fdmap),f.F.revCodes(e.fdtree,5),i(e.itree,19,0),i(e.ltree,286,0),i(e.dtree,30,0),i(e.ttree,320,0)}();var h=(u={__proto__:null,default:c},[c].forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(r){if("default"!==r&&!(r in u)){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(u,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})}),Object.freeze(u));let d=function(){var e={nextZero(e,r){for(;0!=e[r];)r++;return r},readUshort:(e,r)=>e[r]<<8|e[r+1],writeUshort(e,r,n){e[r]=n>>8&255,e[r+1]=255&n},readUint:(e,r)=>16777216*e[r]+(e[r+1]<<16|e[r+2]<<8|e[r+3]),writeUint(e,r,n){e[r]=n>>24&255,e[r+1]=n>>16&255,e[r+2]=n>>8&255,e[r+3]=255&n},readASCII(e,r,n){let i="";for(let o=0;o<n;o++)i+=String.fromCharCode(e[r+o]);return i},writeASCII(e,r,n){for(let i=0;i<n.length;i++)e[r+i]=n.charCodeAt(i)},readBytes(e,r,n){let i=[];for(let o=0;o<n;o++)i.push(e[r+o]);return i},pad:e=>e.length<2?`0${e}`:e,readUTF8(r,n,i){let o,a="";for(let o=0;o<i;o++)a+=`%${e.pad(r[n+o].toString(16))}`;try{o=decodeURIComponent(a)}catch(o){return e.readASCII(r,n,i)}return o}};function r(r,n,i,o){let s=n*i,l=a(o),f=Math.ceil(n*l/8),u=new Uint8Array(4*s),c=new Uint32Array(u.buffer),{ctype:h}=o,{depth:d}=o,p=e.readUshort;if(6==h){let e=s<<2;if(8==d)for(var g=0;g<e;g+=4)u[g]=r[g],u[g+1]=r[g+1],u[g+2]=r[g+2],u[g+3]=r[g+3];if(16==d)for(g=0;g<e;g++)u[g]=r[g<<1]}else if(2==h){let e=o.tabs.tRNS;if(null==e){if(8==d)for(g=0;g<s;g++){var v=3*g;c[g]=-16777216|r[v+2]<<16|r[v+1]<<8|r[v]}if(16==d)for(g=0;g<s;g++)v=6*g,c[g]=-16777216|r[v+4]<<16|r[v+2]<<8|r[v]}else{var m=e[0];let n=e[1],i=e[2];if(8==d)for(g=0;g<s;g++){var y=g<<2;v=3*g,c[g]=-16777216|r[v+2]<<16|r[v+1]<<8|r[v],r[v]==m&&r[v+1]==n&&r[v+2]==i&&(u[y+3]=0)}if(16==d)for(g=0;g<s;g++)y=g<<2,v=6*g,c[g]=-16777216|r[v+4]<<16|r[v+2]<<8|r[v],p(r,v)==m&&p(r,v+2)==n&&p(r,v+4)==i&&(u[y+3]=0)}}else if(3==h){let e=o.tabs.PLTE,a=o.tabs.tRNS,l=a?a.length:0;if(1==d)for(var b,w=0;w<i;w++){var A=w*f,U=w*n;for(g=0;g<n;g++){y=U+g<<2;var F=3*(b=r[A+(g>>3)]>>7-((7&g)<<0)&1);u[y]=e[F],u[y+1]=e[F+1],u[y+2]=e[F+2],u[y+3]=b<l?a[b]:255}}if(2==d)for(w=0;w<i;w++)for(A=w*f,U=w*n,g=0;g<n;g++)y=U+g<<2,F=3*(b=r[A+(g>>2)]>>6-((3&g)<<1)&3),u[y]=e[F],u[y+1]=e[F+1],u[y+2]=e[F+2],u[y+3]=b<l?a[b]:255;if(4==d)for(w=0;w<i;w++)for(A=w*f,U=w*n,g=0;g<n;g++)y=U+g<<2,F=3*(b=r[A+(g>>1)]>>4-((1&g)<<2)&15),u[y]=e[F],u[y+1]=e[F+1],u[y+2]=e[F+2],u[y+3]=b<l?a[b]:255;if(8==d)for(g=0;g<s;g++)y=g<<2,F=3*(b=r[g]),u[y]=e[F],u[y+1]=e[F+1],u[y+2]=e[F+2],u[y+3]=b<l?a[b]:255}else if(4==h){if(8==d)for(g=0;g<s;g++){y=g<<2;var E,C=r[E=g<<1];u[y]=C,u[y+1]=C,u[y+2]=C,u[y+3]=r[E+1]}if(16==d)for(g=0;g<s;g++)y=g<<2,C=r[E=g<<2],u[y]=C,u[y+1]=C,u[y+2]=C,u[y+3]=r[E+2]}else if(0==h)for(m=o.tabs.tRNS?o.tabs.tRNS:-1,w=0;w<i;w++){let e=w*f,i=w*n;if(1==d)for(var S=0;S<n;S++){var D=(C=255*(r[e+(S>>>3)]>>>7-(7&S)&1))==255*m?0:255;c[i+S]=D<<24|C<<16|C<<8|C}else if(2==d)for(S=0;S<n;S++)D=(C=85*(r[e+(S>>>2)]>>>6-((3&S)<<1)&3))==85*m?0:255,c[i+S]=D<<24|C<<16|C<<8|C;else if(4==d)for(S=0;S<n;S++)D=(C=17*(r[e+(S>>>1)]>>>4-((1&S)<<2)&15))==17*m?0:255,c[i+S]=D<<24|C<<16|C<<8|C;else if(8==d)for(S=0;S<n;S++)D=(C=r[e+S])==m?0:255,c[i+S]=D<<24|C<<16|C<<8|C;else if(16==d)for(S=0;S<n;S++)C=r[e+(S<<1)],D=p(r,e+(S<<1))==m?0:255,c[i+S]=D<<24|C<<16|C<<8|C}return u}function n(e,r,n,l){let f=a(e),u=Math.ceil(n*f/8),c=new Uint8Array((u+1+e.interlace)*l);return r=e.tabs.CgBI?o(r,c):i(r,c),0==e.interlace?r=s(r,e,0,n,l):1==e.interlace&&(r=function(e,r){let n=r.width,i=r.height,o=a(r),l=o>>3,f=Math.ceil(n*o/8),u=new Uint8Array(i*f),c=0,h=[0,0,4,0,2,0,1],d=[0,4,0,2,0,1,0],p=[8,8,8,4,4,2,2],g=[8,8,4,4,2,2,1],v=0;for(;v<7;){let a=p[v],y=g[v],b=0,w=0,A=h[v];for(;A<i;)A+=a,w++;let U=d[v];for(;U<n;)U+=y,b++;let F=Math.ceil(b*o/8);s(e,r,c,b,w);let E=0,C=h[v];for(;C<i;){let r=d[v],i=c+E*F<<3;for(;r<n;){var m;if(1==o&&(m=(m=e[i>>3])>>7-(7&i)&1,u[C*f+(r>>3)]|=m<<7-((7&r)<<0)),2==o&&(m=(m=e[i>>3])>>6-(7&i)&3,u[C*f+(r>>2)]|=m<<6-((3&r)<<1)),4==o&&(m=(m=e[i>>3])>>4-(7&i)&15,u[C*f+(r>>1)]|=m<<4-((1&r)<<2)),o>=8){let n=C*f+r*l;for(let r=0;r<l;r++)u[n+r]=e[(i>>3)+r]}i+=o,r+=y}E++,C+=a}b*w!=0&&(c+=w*(1+F)),v+=1}return u}(r,e)),r}function i(e,r){return o(new Uint8Array(e.buffer,2,e.length-6),r)}var o=function(){let e={H:{}};return e.H.N=function(r,n){let i=Uint8Array,o,a,s=0,l=0,f=0,u=0,c=0,h=0,d=0,p=0,g=0;if(3==r[0]&&0==r[1])return n||new i(0);let v=e.H,m=v.b,y=v.e,b=v.R,w=v.n,A=v.A,U=v.Z,F=v.m,E=null==n;for(E&&(n=new i(r.length>>>2<<5));0==s;)if(s=m(r,g,1),l=m(r,g+1,2),g+=3,0!=l){if(E&&(n=e.H.W(n,p+131072)),1==l&&(o=F.J,a=F.h,h=511,d=31),2==l){f=y(r,g,5)+257,u=y(r,g+5,5)+1,c=y(r,g+10,4)+4,g+=14;let e=1;for(var C=0;C<38;C+=2)F.Q[C]=0,F.Q[C+1]=0;for(C=0;C<c;C++){let n=y(r,g+3*C,3);F.Q[1+(F.X[C]<<1)]=n,n>e&&(e=n)}g+=3*c,w(F.Q,e),A(F.Q,e,F.u),o=F.w,a=F.d,g=b(F.u,(1<<e)-1,f+u,r,g,F.v);let n=v.V(F.v,0,f,F.C);h=(1<<n)-1;let i=v.V(F.v,f,u,F.D);d=(1<<i)-1,w(F.C,n),A(F.C,n,o),w(F.D,i),A(F.D,i,a)}for(;;){let e=o[U(r,g)&h];g+=15&e;let i=e>>>4;if(i>>>8==0)n[p++]=i;else{if(256==i)break;{let e=p+i-254;if(i>264){let n=F.q[i-257];e=p+(n>>>3)+y(r,g,7&n),g+=7&n}let o=a[U(r,g)&d];g+=15&o;let s=o>>>4,l=F.c[s],f=(l>>>4)+m(r,g,15&l);for(g+=15&l;p<e;)n[p]=n[p++-f],n[p]=n[p++-f],n[p]=n[p++-f],n[p]=n[p++-f];p=e}}}}else{0!=(7&g)&&(g+=8-(7&g));let o=4+(g>>>3),a=r[o-4]|r[o-3]<<8;E&&(n=e.H.W(n,p+a)),n.set(new i(r.buffer,r.byteOffset+o,a),p),g=o+a<<3,p+=a}return n.length==p?n:n.slice(0,p)},e.H.W=function(e,r){let n=e.length;if(r<=n)return e;let i=new Uint8Array(n<<1);return i.set(e,0),i},e.H.R=function(r,n,i,o,a,s){let l=e.H.e,f=e.H.Z,u=0;for(;u<i;){let e=r[f(o,a)&n];a+=15&e;let i=e>>>4;if(i<=15)s[u]=i,u++;else{let e=0,r=0;16==i?(r=3+l(o,a,2),a+=2,e=s[u-1]):17==i?(r=3+l(o,a,3),a+=3):18==i&&(r=11+l(o,a,7),a+=7);let n=u+r;for(;u<n;)s[u]=e,u++}}return a},e.H.V=function(e,r,n,i){let o=0,a=0,s=i.length>>>1;for(;a<n;){let n=e[a+r];i[a<<1]=0,i[1+(a<<1)]=n,n>o&&(o=n),a++}for(;a<s;)i[a<<1]=0,i[1+(a<<1)]=0,a++;return o},e.H.n=function(r,n){let i,o,a,s;let l=e.H.m,f=r.length,u=l.j;for(var c=0;c<=n;c++)u[c]=0;for(c=1;c<f;c+=2)u[r[c]]++;let h=l.K;for(i=0,u[0]=0,o=1;o<=n;o++)i=i+u[o-1]<<1,h[o]=i;for(a=0;a<f;a+=2)0!=(s=r[a+1])&&(r[a]=h[s],h[s]++)},e.H.A=function(r,n,i){let o=r.length,a=e.H.m.r;for(let e=0;e<o;e+=2)if(0!=r[e+1]){let o=e>>1,s=r[e+1],l=o<<4|s,f=n-s,u=r[e]<<f,c=u+(1<<f);for(;u!=c;)i[a[u]>>>15-n]=l,u++}},e.H.l=function(r,n){let i=e.H.m.r,o=15-n;for(let e=0;e<r.length;e+=2){let a=r[e]<<n-r[e+1];r[e]=i[a]>>>o}},e.H.M=function(e,r,n){n<<=7&r;let i=r>>>3;e[i]|=n,e[i+1]|=n>>>8},e.H.I=function(e,r,n){n<<=7&r;let i=r>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},e.H.e=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<n)-1},e.H.b=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<n)-1},e.H.Z=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},e.H.i=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},e.H.m=function(){let e=Uint16Array,r=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new e(65536),g:new e(32768)}}(),function(){let r=e.H.m;for(var n=0;n<32768;n++){let e=n;e=(4278255360&(e=(4042322160&(e=(3435973836&(e=(2863311530&e)>>>1|(1431655765&e)<<1))>>>2|(858993459&e)<<2))>>>4|(252645135&e)<<4))>>>8|(16711935&e)<<8,r.r[n]=(e>>>16|e<<16)>>>17}function i(e,r,n){for(;0!=r--;)e.push(0,n)}for(n=0;n<32;n++)r.q[n]=r.S[n]<<3|r.T[n],r.c[n]=r.p[n]<<4|r.z[n];i(r._,144,8),i(r._,112,9),i(r._,24,7),i(r._,8,8),e.H.n(r._,9),e.H.A(r._,9,r.J),e.H.l(r._,9),i(r.$,32,5),e.H.n(r.$,5),e.H.A(r.$,5,r.h),e.H.l(r.$,5),i(r.Q,19,0),i(r.C,286,0),i(r.D,30,0),i(r.v,320,0)}(),e.H.N}();function a(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function s(e,r,n,i,o){let s,f,u=a(r),c=Math.ceil(i*u/8);u=Math.ceil(u/8);let h=e[n],d=0;if(h>1&&(e[n]=[0,0,1][h-2]),3==h)for(d=u;d<c;d++)e[d+1]=e[d+1]+(e[d+1-u]>>>1)&255;for(let r=0;r<o;r++)if(h=e[(f=(s=n+r*c)+r+1)-1],d=0,0==h)for(;d<c;d++)e[s+d]=e[f+d];else if(1==h){for(;d<u;d++)e[s+d]=e[f+d];for(;d<c;d++)e[s+d]=e[f+d]+e[s+d-u]}else if(2==h)for(;d<c;d++)e[s+d]=e[f+d]+e[s+d-c];else if(3==h){for(;d<u;d++)e[s+d]=e[f+d]+(e[s+d-c]>>>1);for(;d<c;d++)e[s+d]=e[f+d]+(e[s+d-c]+e[s+d-u]>>>1)}else{for(;d<u;d++)e[s+d]=e[f+d]+l(0,e[s+d-c],0);for(;d<c;d++)e[s+d]=e[f+d]+l(e[s+d-u],e[s+d-c],e[s+d-u-c])}return e}function l(e,r,n){let i=e+r-n,o=i-e,a=i-r,s=i-n;return o*o<=a*a&&o*o<=s*s?e:a*a<=s*s?r:n}function f(e,r,n,i,o,a,s,l,f){let u=Math.min(r,o),c=Math.min(n,a),h=0,d=0;for(let n=0;n<c;n++)for(let a=0;a<u;a++)if(s>=0&&l>=0?(h=n*r+a<<2,d=(l+n)*o+s+a<<2):(h=(-l+n)*r-s+a<<2,d=n*o+a<<2),0==f)i[d]=e[h],i[d+1]=e[h+1],i[d+2]=e[h+2],i[d+3]=e[h+3];else if(1==f){var p=e[h+3]*(1/255),g=e[h]*p,v=e[h+1]*p,m=e[h+2]*p,y=i[d+3]*(1/255),b=i[d]*y,w=i[d+1]*y,A=i[d+2]*y;let r=1-p,n=p+y*r,o=0==n?0:1/n;i[d+3]=255*n,i[d+0]=(g+b*r)*o,i[d+1]=(v+w*r)*o,i[d+2]=(m+A*r)*o}else if(2==f)p=e[h+3],g=e[h],v=e[h+1],m=e[h+2],y=i[d+3],b=i[d],w=i[d+1],A=i[d+2],p==y&&g==b&&v==w&&m==A?(i[d]=0,i[d+1]=0,i[d+2]=0,i[d+3]=0):(i[d]=g,i[d+1]=v,i[d+2]=m,i[d+3]=p);else if(3==f){if(p=e[h+3],g=e[h],v=e[h+1],m=e[h+2],y=i[d+3],b=i[d],w=i[d+1],A=i[d+2],p==y&&g==b&&v==w&&m==A)continue;if(p<220&&y>20)return!1}return!0}return{decode:function(r){let a=new Uint8Array(r),s=8,l=e.readUshort,f=e.readUint,u={tabs:{},frames:[]},c=new Uint8Array(a.length),h,d=0,p=0,g=[137,80,78,71,13,10,26,10];for(var v,m=0;m<8;m++)if(a[m]!=g[m])throw"The input is not a PNG file!";for(;s<a.length;){let r=e.readUint(a,s);s+=4;let g=e.readASCII(a,s,4);if(s+=4,"IHDR"==g)y=s,u.width=e.readUint(a,y),y+=4,u.height=e.readUint(a,y),y+=4,u.depth=a[y],y++,u.ctype=a[y],y++,u.compress=a[y],y++,u.filter=a[y],y++,u.interlace=a[y],y++;else if("iCCP"==g){for(var y,b,w=s;0!=a[w];)w++;e.readASCII(a,s,w-s),a[w+1];let n=a.slice(w+2,s+r),l=null;try{l=i(n)}catch(e){l=o(n)}u.tabs[g]=l}else if("CgBI"==g)u.tabs[g]=a.slice(s,s+4);else if("IDAT"==g){for(m=0;m<r;m++)c[d+m]=a[s+m];d+=r}else if("acTL"==g)u.tabs[g]={num_frames:f(a,s),num_plays:f(a,s+4)},h=new Uint8Array(a.length);else if("fcTL"==g){0!=p&&((v=u.frames[u.frames.length-1]).data=n(u,h.slice(0,p),v.rect.width,v.rect.height),p=0);let e={x:f(a,s+12),y:f(a,s+16),width:f(a,s+4),height:f(a,s+8)},r=l(a,s+22);r=l(a,s+20)/(0==r?100:r);let i={rect:e,delay:Math.round(1e3*r),dispose:a[s+24],blend:a[s+25]};u.frames.push(i)}else if("fdAT"==g){for(m=0;m<r-4;m++)h[p+m]=a[s+m+4];p+=r-4}else if("pHYs"==g)u.tabs[g]=[e.readUint(a,s),e.readUint(a,s+4),a[s+8]];else if("cHRM"==g)for(m=0,u.tabs[g]=[];m<8;m++)u.tabs[g].push(e.readUint(a,s+4*m));else if("tEXt"==g||"zTXt"==g){null==u.tabs[g]&&(u.tabs[g]={});var A=e.nextZero(a,s),U=e.readASCII(a,s,A-s),F=s+r-A-1;if("tEXt"==g)b=e.readASCII(a,A+1,F);else{var E=i(a.slice(A+2,A+2+F));b=e.readUTF8(E,0,E.length)}u.tabs[g][U]=b}else if("iTXt"==g){null==u.tabs[g]&&(u.tabs[g]={}),A=0,w=s,A=e.nextZero(a,w),U=e.readASCII(a,w,A-w);let n=a[w=A+1];a[w+1],w+=2,A=e.nextZero(a,w),e.readASCII(a,w,A-w),w=A+1,A=e.nextZero(a,w),e.readUTF8(a,w,A-w),F=r-((w=A+1)-s),0==n?b=e.readUTF8(a,w,F):(E=i(a.slice(w,w+F)),b=e.readUTF8(E,0,E.length)),u.tabs[g][U]=b}else if("PLTE"==g)u.tabs[g]=e.readBytes(a,s,r);else if("hIST"==g){let e=u.tabs.PLTE.length/3;for(m=0,u.tabs[g]=[];m<e;m++)u.tabs[g].push(l(a,s+2*m))}else if("tRNS"==g)3==u.ctype?u.tabs[g]=e.readBytes(a,s,r):0==u.ctype?u.tabs[g]=l(a,s):2==u.ctype&&(u.tabs[g]=[l(a,s),l(a,s+2),l(a,s+4)]);else if("gAMA"==g)u.tabs[g]=e.readUint(a,s)/1e5;else if("sRGB"==g)u.tabs[g]=a[s];else if("bKGD"==g)0==u.ctype||4==u.ctype?u.tabs[g]=[l(a,s)]:2==u.ctype||6==u.ctype?u.tabs[g]=[l(a,s),l(a,s+2),l(a,s+4)]:3==u.ctype&&(u.tabs[g]=a[s]);else if("IEND"==g)break;s+=r,e.readUint(a,s),s+=4}return 0!=p&&((v=u.frames[u.frames.length-1]).data=n(u,h.slice(0,p),v.rect.width,v.rect.height)),u.data=n(u,c,u.width,u.height),delete u.compress,delete u.interlace,delete u.filter,u},toRGBA8:function(e){let n=e.width,i=e.height;if(null==e.tabs.acTL)return[r(e.data,n,i,e).buffer];let o=[];null==e.frames[0].data&&(e.frames[0].data=e.data);let a=n*i*4,s=new Uint8Array(a),l=new Uint8Array(a),u=new Uint8Array(a);for(let h=0;h<e.frames.length;h++){let d=e.frames[h],p=d.rect.x,g=d.rect.y,v=d.rect.width,m=d.rect.height,y=r(d.data,v,m,e);if(0!=h)for(var c=0;c<a;c++)u[c]=s[c];if(0==d.blend?f(y,v,m,s,n,i,p,g,0):1==d.blend&&f(y,v,m,s,n,i,p,g,1),o.push(s.buffer.slice(0)),0==d.dispose);else if(1==d.dispose)f(l,v,m,s,n,i,p,g,0);else if(2==d.dispose)for(c=0;c<a;c++)s[c]=u[c]}return o},_paeth:l,_copyTile:f,_bin:e}}();!function(){let{_copyTile:e}=d,{_bin:r}=d,n=d._paeth;var i={table:function(){let e=new Uint32Array(256);for(let r=0;r<256;r++){let n=r;for(let e=0;e<8;e++)1&n?n=3988292384^n>>>1:n>>>=1;e[r]=n}return e}(),update(e,r,n,o){for(let a=0;a<o;a++)e=i.table[255&(e^r[n+a])]^e>>>8;return e},crc:(e,r,n)=>4294967295^i.update(4294967295,e,r,n)};function o(e,r,n,i){r[n]+=e[0]*i>>4,r[n+1]+=e[1]*i>>4,r[n+2]+=e[2]*i>>4,r[n+3]+=e[3]*i>>4}function a(e){return Math.max(0,Math.min(255,e))}function s(e,r){let n=e[0]-r[0],i=e[1]-r[1],o=e[2]-r[2],a=e[3]-r[3];return n*n+i*i+o*o+a*a}function l(e,r,n,i,l,f,u){null==u&&(u=1);let c=i.length,h=[];for(var d,p=0;p<c;p++){let e=i[p];h.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(p=0;p<c;p++){let e=4294967295;for(var g=0,v=0;v<c;v++){var m=s(h[p],h[v]);v!=p&&m<e&&(e=m,g=v)}}let y=new Uint32Array(l.buffer),b=new Int16Array(r*n*4),w=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(p=0;p<w.length;p++)w[p]=255*((w[p]+.5)/16-.5);for(let l=0;l<n;l++)for(let A=0;A<r;A++){p=4*(l*r+A),2!=u?d=[a(e[p]+b[p]),a(e[p+1]+b[p+1]),a(e[p+2]+b[p+2]),a(e[p+3]+b[p+3])]:(m=w[4*(3&l)+(3&A)],d=[a(e[p]+m),a(e[p+1]+m),a(e[p+2]+m),a(e[p+3]+m)]),g=0;let U=16777215;for(v=0;v<c;v++){let e=s(d,h[v]);e<U&&(U=e,g=v)}let F=h[g],E=[d[0]-F[0],d[1]-F[1],d[2]-F[2],d[3]-F[3]];1==u&&(A!=r-1&&o(E,b,p+4,7),l!=n-1&&(0!=A&&o(E,b,p+4*r-4,3),o(E,b,p+4*r,5),A!=r-1&&o(E,b,p+4*r+4,1))),f[p>>2]=g,y[p>>2]=i[g]}}function f(e,n,o,a,s){null==s&&(s={});let{crc:l}=i,f=r.writeUint,u=r.writeUshort,c=r.writeASCII,h=8,d=e.frames.length>1,p,g=!1,v=33+(d?20:0);if(null!=s.sRGB&&(v+=13),null!=s.pHYs&&(v+=21),null!=s.iCCP&&(v+=21+(p=pako.deflate(s.iCCP)).length+4),3==e.ctype){for(var m=e.plte.length,y=0;y<m;y++)e.plte[y]>>>24!=255&&(g=!0);v+=8+3*m+4+(g?8+1*m+4:0)}for(var b=0;b<e.frames.length;b++)d&&(v+=38),v+=(F=e.frames[b]).cimg.length+12,0!=b&&(v+=4);v+=12;let w=new Uint8Array(v),A=[137,80,78,71,13,10,26,10];for(y=0;y<8;y++)w[y]=A[y];if(f(w,h,13),c(w,h+=4,"IHDR"),f(w,h+=4,n),f(w,h+=4,o),w[h+=4]=e.depth,w[++h]=e.ctype,w[++h]=0,w[++h]=0,w[++h]=0,f(w,++h,l(w,h-17,17)),h+=4,null!=s.sRGB&&(f(w,h,1),c(w,h+=4,"sRGB"),w[h+=4]=s.sRGB,f(w,++h,l(w,h-5,5)),h+=4),null!=s.iCCP){let e=13+p.length;f(w,h,e),c(w,h+=4,"iCCP"),c(w,h+=4,"ICC profile"),h+=13,w.set(p,h),f(w,h+=p.length,l(w,h-(e+4),e+4)),h+=4}if(null!=s.pHYs&&(f(w,h,9),c(w,h+=4,"pHYs"),f(w,h+=4,s.pHYs[0]),f(w,h+=4,s.pHYs[1]),w[h+=4]=s.pHYs[2],f(w,++h,l(w,h-13,13)),h+=4),d&&(f(w,h,8),c(w,h+=4,"acTL"),f(w,h+=4,e.frames.length),f(w,h+=4,null!=s.loop?s.loop:0),f(w,h+=4,l(w,h-12,12)),h+=4),3==e.ctype){for(f(w,h,3*(m=e.plte.length)),c(w,h+=4,"PLTE"),h+=4,y=0;y<m;y++){let r=3*y,n=e.plte[y],i=255&n,o=n>>>8&255,a=n>>>16&255;w[h+r+0]=i,w[h+r+1]=o,w[h+r+2]=a}if(f(w,h+=3*m,l(w,h-3*m-4,3*m+4)),h+=4,g){for(f(w,h,m),c(w,h+=4,"tRNS"),h+=4,y=0;y<m;y++)w[h+y]=e.plte[y]>>>24&255;f(w,h+=m,l(w,h-m-4,m+4)),h+=4}}let U=0;for(b=0;b<e.frames.length;b++){var F=e.frames[b];d&&(f(w,h,26),c(w,h+=4,"fcTL"),f(w,h+=4,U++),f(w,h+=4,F.rect.width),f(w,h+=4,F.rect.height),f(w,h+=4,F.rect.x),f(w,h+=4,F.rect.y),u(w,h+=4,a[b]),u(w,h+=2,1e3),w[h+=2]=F.dispose,w[++h]=F.blend,f(w,++h,l(w,h-30,30)),h+=4);let r=F.cimg;f(w,h,(m=r.length)+(0==b?0:4)),h+=4;let n=h;c(w,h,0==b?"IDAT":"fdAT"),h+=4,0!=b&&(f(w,h,U++),h+=4),w.set(r,h),f(w,h+=m,l(w,n,h-n)),h+=4}return f(w,h,0),c(w,h+=4,"IEND"),f(w,h+=4,l(w,h-4,4)),h+=4,w.buffer}function u(e,r,i){for(let o=0;o<e.frames.length;o++){let a=e.frames[o];a.rect.width;let s=a.rect.height,l=new Uint8Array(s*a.bpl+s);a.cimg=function(e,r,i,o,a,s,l){let f=[],u,c=[0,1,2,3,4];-1!=s?c=[s]:(r*o>5e5||1==i)&&(c=[0]),l&&(u={level:0});for(var d=0;d<c.length;d++){for(let s=0;s<r;s++)!function(e,r,i,o,a,s){let l=i*o,f=l+i;if(e[f]=s,f++,0==s){if(o<500)for(var u=0;u<o;u++)e[f+u]=r[l+u];else e.set(new Uint8Array(r.buffer,l,o),f)}else if(1==s){for(u=0;u<a;u++)e[f+u]=r[l+u];for(u=a;u<o;u++)e[f+u]=r[l+u]-r[l+u-a]+256&255}else if(0==i){for(u=0;u<a;u++)e[f+u]=r[l+u];if(2==s)for(u=a;u<o;u++)e[f+u]=r[l+u];if(3==s)for(u=a;u<o;u++)e[f+u]=r[l+u]-(r[l+u-a]>>1)+256&255;if(4==s)for(u=a;u<o;u++)e[f+u]=r[l+u]-n(r[l+u-a],0,0)+256&255}else{if(2==s)for(u=0;u<o;u++)e[f+u]=r[l+u]+256-r[l+u-o]&255;if(3==s){for(u=0;u<a;u++)e[f+u]=r[l+u]+256-(r[l+u-o]>>1)&255;for(u=a;u<o;u++)e[f+u]=r[l+u]+256-(r[l+u-o]+r[l+u-a]>>1)&255}if(4==s){for(u=0;u<a;u++)e[f+u]=r[l+u]+256-n(0,r[l+u-o],0)&255;for(u=a;u<o;u++)e[f+u]=r[l+u]+256-n(r[l+u-a],r[l+u-o],r[l+u-a-o])&255}}}(a,e,s,o,i,c[d]);f.push(h.deflate(a,u))}let p,g=1e9;for(d=0;d<f.length;d++)f[d].length<g&&(p=d,g=f[d].length);return f[p]}(a.img,s,a.bpp,a.bpl,l,r,i)}}function c(r,n,i,o,a){let s=a[0],f=a[1],u=a[2],c=a[3],h=a[4],d=a[5],m=6,y=8,b=255;for(var w=0;w<r.length;w++){let e=new Uint8Array(r[w]);for(var A=e.length,U=0;U<A;U+=4)b&=e[U+3]}let F=255!=b,E=function(r,n,i,o,a,s){let l=[];for(var f,u=0;u<r.length;u++){let f=new Uint8Array(r[u]),p=new Uint32Array(f.buffer),v=0,m=0,y=n,b=i,w=o?1:0;if(0!=u){let A=s||o||1==u||0!=l[u-2].dispose?1:2,U=0,F=1e9;for(let e=0;e<A;e++){var c,h=new Uint8Array(r[u-1-e]);let o=new Uint32Array(r[u-1-e]),s=n,l=i,f=-1,g=-1;for(let e=0;e<i;e++)for(let r=0;r<n;r++)p[d=e*n+r]!=o[d]&&(r<s&&(s=r),r>f&&(f=r),e<l&&(l=e),e>g&&(g=e));-1==f&&(s=l=f=g=0),a&&(1==(1&s)&&s--,1==(1&l)&&l--);let w=(f-s+1)*(g-l+1);w<F&&(F=w,U=e,v=s,m=l,y=f-s+1,b=g-l+1)}h=new Uint8Array(r[u-1-U]),1==U&&(l[u-1].dispose=2),e(h,n,i,c=new Uint8Array(y*b*4),y,b,-v,-m,0),1==(w=e(f,n,i,c,y,b,-v,-m,3)?1:0)?g(f,n,i,c,{x:v,y:m,width:y,height:b}):e(f,n,i,c,y,b,-v,-m,0)}else c=f.slice(0);l.push({rect:{x:v,y:m,width:y,height:b},img:c,blend:w,dispose:0})}if(o)for(u=0;u<l.length;u++){if(1==(f=l[u]).blend)continue;let e=f.rect,o=l[u-1].rect,s=Math.min(e.x,o.x),c=Math.min(e.y,o.y),h={x:s,y:c,width:Math.max(e.x+e.width,o.x+o.width)-s,height:Math.max(e.y+e.height,o.y+o.height)-c};l[u-1].dispose=1,u-1!=0&&p(r,n,i,l,u-1,h,a),p(r,n,i,l,u,h,a)}if(1!=r.length)for(var d=0;d<l.length;d++)(f=l[d]).rect.width,f.rect.height;return l}(r,n,i,s,f,u),C={},S=[],D=[];if(0!=o){let e=[];for(U=0;U<E.length;U++)e.push(E[U].img.buffer);let r=function(e){let r=0;for(var n=0;n<e.length;n++)r+=e[n].byteLength;let i=new Uint8Array(r),o=0;for(n=0;n<e.length;n++){let r=new Uint8Array(e[n]),a=r.length;for(let e=0;e<a;e+=4){let n=r[e],a=r[e+1],s=r[e+2],l=r[e+3];0==l&&(n=a=s=0),i[o+e]=n,i[o+e+1]=a,i[o+e+2]=s,i[o+e+3]=l}o+=a}return i.buffer}(e),n=v(r,o);for(U=0;U<n.plte.length;U++)S.push(n.plte[U].est.rgba);let i=0;for(U=0;U<E.length;U++){let e=(R=E[U]).img.length;var x=new Uint8Array(n.inds.buffer,i>>2,e>>2);D.push(x);let r=new Uint8Array(n.abuf,i,e);d&&l(R.img,R.rect.width,R.rect.height,S,r,x),R.img.set(r),i+=e}}else for(w=0;w<E.length;w++){var R=E[w];let e=new Uint32Array(R.img.buffer);var _=R.rect.width;for(A=e.length,x=new Uint8Array(A),D.push(x),U=0;U<A;U++){let r=e[U];if(0!=U&&r==e[U-1])x[U]=x[U-1];else if(U>_&&r==e[U-_])x[U]=x[U-_];else{let e=C[r];if(null==e&&(C[r]=e=S.length,S.push(r),S.length>=300))break;x[U]=e}}}let O=S.length;for(O<=256&&0==h&&(y=Math.max(y=O<=2?1:O<=4?2:O<=16?4:8,c)),w=0;w<E.length;w++){(R=E[w]).rect.x,R.rect.y,_=R.rect.width;let e=R.rect.height,r=R.img;new Uint32Array(r.buffer);let n=4*_,i=4;if(O<=256&&0==h){n=Math.ceil(y*_/8);var I=new Uint8Array(n*e);let o=D[w];for(let r=0;r<e;r++){U=r*n;let e=r*_;if(8==y)for(var k=0;k<_;k++)I[U+k]=o[e+k];else if(4==y)for(k=0;k<_;k++)I[U+(k>>1)]|=o[e+k]<<4-4*(1&k);else if(2==y)for(k=0;k<_;k++)I[U+(k>>2)]|=o[e+k]<<6-2*(3&k);else if(1==y)for(k=0;k<_;k++)I[U+(k>>3)]|=o[e+k]<<7-1*(7&k)}r=I,m=3,i=1}else if(0==F&&1==E.length){I=new Uint8Array(_*e*3);let o=_*e;for(U=0;U<o;U++){let e=3*U,n=4*U;I[e]=r[n],I[e+1]=r[n+1],I[e+2]=r[n+2]}r=I,m=2,i=3,n=3*_}R.img=r,R.bpl=n,R.bpp=i}return{ctype:m,depth:y,plte:S,frames:E}}function p(r,n,i,o,a,s,l){let f=Uint8Array,u=Uint32Array,c=new f(r[a-1]),h=new u(r[a-1]),d=a+1<r.length?new f(r[a+1]):null,p=new f(r[a]),v=new u(p.buffer),m=n,y=i,b=-1,w=-1;for(let e=0;e<s.height;e++)for(let r=0;r<s.width;r++){let i=s.x+r,l=s.y+e,f=l*n+i,u=v[f];0==u||0==o[a-1].dispose&&h[f]==u&&(null==d||0!=d[4*f+3])||(i<m&&(m=i),i>b&&(b=i),l<y&&(y=l),l>w&&(w=l))}-1==b&&(m=y=b=w=0),l&&(1==(1&m)&&m--,1==(1&y)&&y--),s={x:m,y:y,width:b-m+1,height:w-y+1};let A=o[a];A.rect=s,A.blend=1,A.img=new Uint8Array(s.width*s.height*4),0==o[a-1].dispose?(e(c,n,i,A.img,s.width,s.height,-s.x,-s.y,0),g(p,n,i,A.img,s)):e(p,n,i,A.img,s.width,s.height,-s.x,-s.y,0)}function g(r,n,i,o,a){e(r,n,i,o,a.width,a.height,-a.x,-a.y,2)}function v(e,r){let n;let i=new Uint8Array(e),o=i.slice(0),a=new Uint32Array(o.buffer),s=m(o,r),l=s[0],f=s[1],u=i.length,c=new Uint8Array(u>>2);if(i.length<2e7)for(var h=0;h<u;h+=4)n=y(l,d=i[h]*(1/255),p=i[h+1]*(1/255),g=i[h+2]*(1/255),v=i[h+3]*(1/255)),c[h>>2]=n.ind,a[h>>2]=n.est.rgba;else for(h=0;h<u;h+=4){var d=i[h]*(1/255),p=i[h+1]*(1/255),g=i[h+2]*(1/255),v=i[h+3]*(1/255);for(n=l;n.left;)n=0>=b(n.est,d,p,g,v)?n.left:n.right;c[h>>2]=n.ind,a[h>>2]=n.est.rgba}return{abuf:o.buffer,inds:c,plte:f}}function m(e,r,n){null==n&&(n=1e-4);let i=new Uint32Array(e.buffer),o={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};o.bst=A(e,o.i0,o.i1),o.est=U(o.bst);let a=[o];for(;a.length<r;){let r=0,o=0;for(var s=0;s<a.length;s++)a[s].est.L>r&&(r=a[s].est.L,o=s);if(r<n)break;let l=a[o],f=function(e,r,n,i,o,a){for(i-=4;n<i;){for(;w(e,n,o)<=a;)n+=4;for(;w(e,i,o)>a;)i-=4;if(n>=i)break;let s=r[n>>2];r[n>>2]=r[i>>2],r[i>>2]=s,n+=4,i-=4}for(;w(e,n,o)>a;)n-=4;return n+4}(e,i,l.i0,l.i1,l.est.e,l.est.eMq255);if(l.i0>=f||l.i1<=f){l.est.L=0;continue}let u={i0:l.i0,i1:f,bst:null,est:null,tdst:0,left:null,right:null};u.bst=A(e,u.i0,u.i1),u.est=U(u.bst);let c={i0:f,i1:l.i1,bst:null,est:null,tdst:0,left:null,right:null};for(s=0,c.bst={R:[],m:[],N:l.bst.N-u.bst.N};s<16;s++)c.bst.R[s]=l.bst.R[s]-u.bst.R[s];for(s=0;s<4;s++)c.bst.m[s]=l.bst.m[s]-u.bst.m[s];c.est=U(c.bst),l.left=u,l.right=c,a[o]=u,a.push(c)}for(a.sort((e,r)=>r.bst.N-e.bst.N),s=0;s<a.length;s++)a[s].ind=s;return[o,a]}function y(e,r,n,i,o){if(null==e.left)return e.tdst=function(e,r,n,i,o){let a=r-e[0],s=n-e[1],l=i-e[2],f=o-e[3];return a*a+s*s+l*l+f*f}(e.est.q,r,n,i,o),e;let a=b(e.est,r,n,i,o),s=e.left,l=e.right;a>0&&(s=e.right,l=e.left);let f=y(s,r,n,i,o);if(f.tdst<=a*a)return f;let u=y(l,r,n,i,o);return u.tdst<f.tdst?u:f}function b(e,r,n,i,o){let{e:a}=e;return a[0]*r+a[1]*n+a[2]*i+a[3]*o-e.eMq}function w(e,r,n){return e[r]*n[0]+e[r+1]*n[1]+e[r+2]*n[2]+e[r+3]*n[3]}function A(e,r,n){let i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=[0,0,0,0];for(let a=r;a<n;a+=4){let r=e[a]*(1/255),n=e[a+1]*(1/255),s=e[a+2]*(1/255),l=e[a+3]*(1/255);o[0]+=r,o[1]+=n,o[2]+=s,o[3]+=l,i[0]+=r*r,i[1]+=r*n,i[2]+=r*s,i[3]+=r*l,i[5]+=n*n,i[6]+=n*s,i[7]+=n*l,i[10]+=s*s,i[11]+=s*l,i[15]+=l*l}return i[4]=i[1],i[8]=i[2],i[9]=i[6],i[12]=i[3],i[13]=i[7],i[14]=i[11],{R:i,m:o,N:n-r>>2}}function U(e){let{R:r}=e,{m:n}=e,{N:i}=e,o=n[0],a=n[1],s=n[2],l=n[3],f=0==i?0:1/i,u=[r[0]-o*o*f,r[1]-o*a*f,r[2]-o*s*f,r[3]-o*l*f,r[4]-a*o*f,r[5]-a*a*f,r[6]-a*s*f,r[7]-a*l*f,r[8]-s*o*f,r[9]-s*a*f,r[10]-s*s*f,r[11]-s*l*f,r[12]-l*o*f,r[13]-l*a*f,r[14]-l*s*f,r[15]-l*l*f],c=[Math.random(),Math.random(),Math.random(),Math.random()],h=0,d=0;if(0!=i)for(let e=0;e<16&&(c=F.multVec(u,c),d=Math.sqrt(F.dot(c,c)),c=F.sml(1/d,c),!(0!=e&&1e-9>Math.abs(d-h)));e++)h=d;let p=[o*f,a*f,s*f,l*f];return{Cov:u,q:p,e:c,L:h,eMq255:F.dot(F.sml(255,p),c),eMq:F.dot(c,p),rgba:(Math.round(255*p[3])<<24|Math.round(255*p[2])<<16|Math.round(255*p[1])<<8|Math.round(255*p[0])<<0)>>>0}}var F={multVec:(e,r)=>[e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3],e[4]*r[0]+e[5]*r[1]+e[6]*r[2]+e[7]*r[3],e[8]*r[0]+e[9]*r[1]+e[10]*r[2]+e[11]*r[3],e[12]*r[0]+e[13]*r[1]+e[14]*r[2]+e[15]*r[3]],dot:(e,r)=>e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3],sml:(e,r)=>[e*r[0],e*r[1],e*r[2],e*r[3]]};d.encode=function(e,r,n,i,o,a,s){null==i&&(i=0),null==s&&(s=!1);let l=c(e,r,n,i,[!1,!1,!1,0,s,!1]);return u(l,-1),f(l,r,n,o,a)},d.encodeLL=function(e,r,n,i,o,a,s,l){let c={ctype:0+(1==i?0:2)+(0==o?0:4),depth:a,frames:[]},h=(i+o)*a,d=h*r;for(let i=0;i<e.length;i++)c.frames.push({rect:{x:0,y:0,width:r,height:n},img:new Uint8Array(e[i]),blend:0,dispose:1,bpp:Math.ceil(h/8),bpl:Math.ceil(d/8)});return u(c,0,!0),f(c,r,n,s,l)},d.encode.compress=c,d.encode.dither=l,d.quantize=v,d.quantize.getKDtree=m,d.quantize.getNearest=y}();let p={toArrayBuffer(e,r){let n=e.width,i=e.height,o=n<<2,a=e.getContext("2d").getImageData(0,0,n,i),s=new Uint32Array(a.data.buffer),l=(32*n+31)/32<<2,f=l*i,u=122+f,c=new ArrayBuffer(u),h=new DataView(c),d,g,v,m,y=1048576,b=0,w=0,A=0;function U(e){h.setUint16(w,e,!0),w+=2}function F(e){h.setUint32(w,e,!0),w+=4}U(19778),F(u),w+=4,F(122),F(108),F(n),F(-i>>>0),U(1),U(32),F(3),F(f),F(2835),F(2835),w+=8,F(16711680),F(65280),F(255),F(4278190080),F(1466527264),function e(){for(;b<i&&y>0;){for(m=122+b*l,d=0;d<o;)y--,v=(g=s[A++])>>>24,h.setUint32(m+d,g<<8|v),d+=4;b++}A<s.length?(y=1048576,setTimeout(e,p._dly)):r(c)}()},toBlob(e,r){this.toArrayBuffer(e,e=>{r(new Blob([e],{type:"image/bmp"}))})},_dly:9};var g={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},v={[g.CHROME]:16384,[g.FIREFOX]:11180,[g.DESKTOP_SAFARI]:16384,[g.IE]:8192,[g.IOS]:4096,[g.ETC]:8192};let m="undefined"!=typeof window,y="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,b=m&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),w=(m||y)&&(b&&b.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),A=(m||y)&&(b&&b.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function U(e,r,n=Date.now()){return new Promise(i=>{let o=e.split(","),a=o[0].match(/:(.*?);/)[1],s=globalThis.atob(o[1]),l=s.length,f=new Uint8Array(l);for(;l--;)f[l]=s.charCodeAt(l);let u=new Blob([f],{type:a});u.name=r,u.lastModified=n,i(u)})}function F(e){return new Promise((r,n)=>{let i=new A;i.onload=()=>r(i.result),i.onerror=e=>n(e),i.readAsDataURL(e)})}function E(e){return new Promise((r,n)=>{let i=new Image;i.onload=()=>r(i),i.onerror=e=>n(e),i.src=e})}function C(){if(void 0!==C.cachedResult)return C.cachedResult;let e=g.ETC,{userAgent:r}=navigator;return/Chrom(e|ium)/i.test(r)?e=g.CHROME:/iP(ad|od|hone)/i.test(r)&&/WebKit/i.test(r)?e=g.IOS:/Safari/i.test(r)?e=g.DESKTOP_SAFARI:/Firefox/i.test(r)?e=g.FIREFOX:(/MSIE/i.test(r)||!0==!!document.documentMode)&&(e=g.IE),C.cachedResult=e,C.cachedResult}function S(e,r){let n=C(),i=v[n],o=e,a=r,s=o*a,l=o>a?a/o:o/a;for(;s>i*i;){let e=(i+o)/2,r=(i+a)/2;e<r?(a=r,o=r*l):(a=e*l,o=e),s=o*a}return{width:o,height:a}}function D(e,r){let n,i;try{if(i=(n=new OffscreenCanvas(e,r)).getContext("2d"),null===i)throw Error("getContext of OffscreenCanvas returns null")}catch(e){i=(n=document.createElement("canvas")).getContext("2d")}return n.width=e,n.height=r,[n,i]}function x(e,r){let{width:n,height:i}=S(e.width,e.height),[o,a]=D(n,i);return r&&/jpe?g/.test(r)&&(a.fillStyle="white",a.fillRect(0,0,o.width,o.height)),a.drawImage(e,0,0,o.width,o.height),o}function R(){return void 0!==R.cachedResult||(R.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),R.cachedResult}function _(e,r={}){return new Promise(function(n,i){let o,a;var s=function(){try{return a=x(o,r.fileType||e.type),n([o,a])}catch(e){return i(e)}},l=function(r){try{var n=function(e){try{throw e}catch(e){return i(e)}};try{let r;return F(e).then(function(e){try{return r=e,E(r).then(function(e){try{return o=e,function(){try{return s()}catch(e){return i(e)}}()}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)}catch(e){n(e)}}catch(e){return i(e)}};try{if(R()||[g.DESKTOP_SAFARI,g.MOBILE_SAFARI].includes(C()))throw Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(e){try{return o=e,s()}catch(e){return l()}},l)}catch(e){l()}})}function O(e,r,n,i,o=1){return new Promise(function(a,s){let l;if("image/png"===r){let a,s,f;return a=e.getContext("2d"),{data:s}=a.getImageData(0,0,e.width,e.height),f=d.encode([s.buffer],e.width,e.height,4096*o),(l=new Blob([f],{type:r})).name=n,l.lastModified=i,c.call(this)}if("image/bmp"===r)return new Promise(r=>p.toBlob(e,r)).then((function(e){try{return(l=e).name=n,l.lastModified=i,u.call(this)}catch(e){return s(e)}}).bind(this),s);if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:r,quality:o}).then((function(e){try{return(l=e).name=n,l.lastModified=i,f.call(this)}catch(e){return s(e)}}).bind(this),s);return U(e.toDataURL(r,o),n,i).then((function(e){try{return l=e,f.call(this)}catch(e){return s(e)}}).bind(this),s);function f(){return u.call(this)}function u(){return c.call(this)}function c(){return a(l)}})}function I(e){e.width=0,e.height=0}function k(){return new Promise(function(e,r){let n,i,o,a;return void 0!==k.cachedResult?e(k.cachedResult):U("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return n=s,_(n).then(function(s){try{return i=s[1],O(i,n.type,n.name,n.lastModified).then(function(n){try{return o=n,I(i),_(o).then(function(n){try{return a=n[0],k.cachedResult=1===a.width&&2===a.height,e(k.cachedResult)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)})}function T(e){return new Promise((r,n)=>{let i=new A;i.onload=e=>{let n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return r(-2);let i=n.byteLength,o=2;for(;o<i&&!(8>=n.getUint16(o+2,!1));){let e=n.getUint16(o,!1);if(o+=2,65505==e){if(1165519206!=n.getUint32(o+=2,!1))return r(-1);let e=18761==n.getUint16(o+=6,!1);o+=n.getUint32(o+4,e);let i=n.getUint16(o,e);o+=2;for(let a=0;a<i;a++)if(274==n.getUint16(o+12*a,e))return r(n.getUint16(o+12*a+8,e))}else{if(65280!=(65280&e))break;o+=n.getUint16(o,!1)}}return r(-1)},i.onerror=e=>n(e),i.readAsArrayBuffer(e)})}function M(e,r){let{width:n}=e,{height:i}=e,{maxWidthOrHeight:o}=r,a,s=e;return isFinite(o)&&(n>o||i>o)&&([s,a]=D(n,i),n>i?(s.width=o,s.height=i/n*o):(s.width=n/i*o,s.height=o),a.drawImage(e,0,0,s.width,s.height),I(e)),s}function P(e,r){let{width:n}=e,{height:i}=e,[o,a]=D(n,i);switch(r>4&&r<9?(o.width=i,o.height=n):(o.width=n,o.height=i),r){case 2:a.transform(-1,0,0,1,n,0);break;case 3:a.transform(-1,0,0,-1,n,i);break;case 4:a.transform(1,0,0,-1,0,i);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,i,0);break;case 7:a.transform(0,-1,-1,0,i,n);break;case 8:a.transform(0,-1,1,0,0,n)}return a.drawImage(e,0,0,n,i),I(e),o}function B(e,r,n=0){return new Promise(function(i,o){let a,s,l,f,u,c,h,d,p,g,v,m,y,b,w,A,U,F,E,C;function S(e=5){if(r.signal&&r.signal.aborted)throw r.signal.reason;a+=e,r.onProgress(Math.min(a,100))}function x(e){if(r.signal&&r.signal.aborted)throw r.signal.reason;a=Math.min(Math.max(e,a),100),r.onProgress(a)}return a=n,s=r.maxIteration||10,l=1024*r.maxSizeMB*1024,S(),_(e,r).then((function(n){try{return[,f]=n,S(),u=M(f,r),S(),new Promise(function(n,i){var o;if(!(o=r.exifOrientation))return T(e).then((function(e){try{return o=e,a.call(this)}catch(e){return i(e)}}).bind(this),i);function a(){return n(o)}return a.call(this)}).then((function(n){try{return c=n,S(),k().then((function(n){try{return h=n?u:P(u,c),S(),d=r.initialQuality||1,p=r.fileType||e.type,O(h,p,e.name,e.lastModified,d).then((function(n){try{var a;if(g=n,S(),v=g.size>l,m=g.size>e.size,!v&&!m)return x(100),i(g);function c(){if(s--&&(w>l||w>y)){let r,n;return r=C?.95*E.width:E.width,n=C?.95*E.height:E.height,[U,F]=D(r,n),F.drawImage(E,0,0,r,n),d*="image/png"===p?.85:.95,O(U,p,e.name,e.lastModified,d).then(function(e){try{return A=e,I(E),E=U,w=A.size,x(Math.min(99,Math.floor((b-w)/(b-l)*100))),c}catch(e){return o(e)}},o)}return[1]}return y=e.size,w=b=g.size,E=h,C=!r.alwaysKeepResolution&&v,(a=(function(e){for(;e;){if(e.then)return void e.then(a,o);try{if(e.pop){if(e.length)return e.pop()?R.call(this):e;e=c}else e=e.call(this)}catch(e){return o(e)}}}).bind(this))(c);function R(){return I(E),I(U),I(u),I(h),I(f),x(100),i(A)}}catch(e){return o(e)}}).bind(this),o)}catch(e){return o(e)}}).bind(this),o)}catch(e){return o(e)}}).bind(this),o)}catch(e){return o(e)}}).bind(this),o)})}function L(e,r){return new Promise(function(n,a){let s,l,f,u,c,h;if(s={...r},f=0,{onProgress:u}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,c="boolean"!=typeof s.useWebWorker||s.useWebWorker,delete s.useWebWorker,s.onProgress=e=>{f=e,"function"==typeof u&&u(f)},!(e instanceof Blob||e instanceof w))return a(Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return a(Error("The file given is not an image"));if(h="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!c||"function"!=typeof Worker||h)return B(e,s).then((function(e){try{return l=e,g.call(this)}catch(e){return a(e)}}).bind(this),a);var d=(function(){try{return g.call(this)}catch(e){return a(e)}}).bind(this),p=function(r){try{return B(e,s).then(function(e){try{return l=e,d()}catch(e){return a(e)}},a)}catch(e){return a(e)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",new Promise((r,n)=>{i||(i=function(e){let r=[];return"function"==typeof e?r.push(`(${e})()`):r.push(e),URL.createObjectURL(new Blob(r))}("\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n"));let o=new Worker(i);o.addEventListener("message",function(e){if(s.signal&&s.signal.aborted)o.terminate();else if(void 0===e.data.progress){if(e.data.error)return n(Error(e.data.error)),void o.terminate();r(e.data.file),o.terminate()}else s.onProgress(e.data.progress)}),o.addEventListener("error",n),s.signal&&s.signal.addEventListener("abort",()=>{n(s.signal.reason),o.terminate()}),o.postMessage({file:e,imageCompressionLibUrl:s.libURL,options:{...s,onProgress:void 0,signal:void 0}})}).then(function(e){try{return l=e,d()}catch(e){return p()}},p)}catch(e){p()}function g(){try{l.name=e.name,l.lastModified=e.lastModified}catch(e){}try{s.preserveExif&&"image/jpeg"===e.type&&(!s.fileType||s.fileType&&s.fileType===e.type)&&(l=o(e,l))}catch(e){}return n(l)}})}L.getDataUrlFromFile=F,L.getFilefromDataUrl=U,L.loadImage=E,L.drawImageInCanvas=x,L.drawFileInCanvas=_,L.canvasToFile=O,L.getExifOrientation=T,L.handleMaxWidthOrHeight=M,L.followExifOrientation=P,L.cleanupCanvasMemory=I,L.isAutoOrientationInBrowser=k,L.approximateBelowMaximumCanvasSizeOfBrowser=S,L.copyExifWithoutOrientation=o,L.getBrowserName=C,L.version="2.0.2"}}]);